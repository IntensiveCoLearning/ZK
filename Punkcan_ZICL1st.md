---
timezone: Pacific/Auckland
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容

timezone: Pacific/Honolulu # 夏威夷-阿留申标准时间 (UTC-10)

timezone: America/Anchorage # 阿拉斯加标准时间 (UTC-9)

timezone: America/Los_Angeles # 太平洋标准时间 (UTC-8)

timezone: America/Denver # 山地标准时间 (UTC-7)

timezone: America/Chicago # 中部标准时间 (UTC-6)

timezone: America/New_York # 东部标准时间 (UTC-5)

timezone: America/Halifax # 大西洋标准时间 (UTC-4)

timezone: America/St_Johns # 纽芬兰标准时间 (UTC-3:30)

timezone: America/Sao_Paulo # 巴西利亚时间 (UTC-3)

timezone: Atlantic/Azores # 亚速尔群岛时间 (UTC-1)

timezone: Europe/London # 格林威治标准时间 (UTC+0)

timezone: Europe/Berlin # 中欧标准时间 (UTC+1)

timezone: Europe/Helsinki # 东欧标准时间 (UTC+2)

timezone: Europe/Moscow # 莫斯科标准时间 (UTC+3)

timezone: Asia/Dubai # 海湾标准时间 (UTC+4)

timezone: Asia/Kolkata # 印度标准时间 (UTC+5:30)

timezone: Asia/Dhaka # 孟加拉国标准时间 (UTC+6)

timezone: Asia/Bangkok # 中南半岛时间 (UTC+7)

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)

timezone: Asia/Tokyo # 日本标准时间 (UTC+9)

timezone: Australia/Sydney # 澳大利亚东部标准时间 (UTC+10)

timezone: Pacific/Auckland # 新西兰标准时间 (UTC+12)

# ZK 残酷共学第 1 期残酷指引

> ⚠️ 正式开始前请确保你在身体上和精神上都处于合适的状态，请刻意练习，残酷面对 🆒。为方便检索 The First ZK Intensive CoLearning 简写为 ZICL1st，第 2 期即为ZICL2nd，第 3 期即为 ZICL3rd，以此类推。

> ⚠️ 报名需要按要求认真填写下面 [ XXX ] 部分，方可通过报名审核，通过审核即可开始自主学习。

## 共学内容

第一期的重点是向大家介绍什么是 ZK、 ZKP 的基础知识，以及 Circom 代码入门，有一定难度，共学资料如下：

- 第一周：7 月 29 日 - 8 月 4 日：Introduction and History of ZKP
    - 20min 的视频：[初步理解 ZK 是什么](https://www.youtube.com/watch?v=fOGdb1CTu5c)
    - 70min 的播客：[零知识证明：一场”无知“的游戏](https://www.xiaoyuzhoufm.com/episode/6672a76bb6a8412729e0b103)
    - [（一）初识「零知识」与「证明」](https://learn.z2o-k7e.world/zkp-intro/1/zkp-back.html)
    - [（二）理解「模拟」](https://learn.z2o-k7e.world/zkp-intro/2/zkp-simu.html)
    - [（三）寻找「知识」](https://learn.z2o-k7e.world/zkp-intro/3/zkp-pok.html)
    - 100min 的视频：[ZKP Lecture 1: Introduction and History of ZKP](https://www.youtube.com/watch?v=uchjTIlPzFo)
- 第二周：8 月 5 日 - 8 月 11 日：Overview of Modern SNARK Constructions
    - 80min的视频： [ZKP Lecture 2: Overview of Modern SNARK Constructions](https://www.youtube.com/watch?v=bGEXYpt3sj0)
    - [1-Polynomial-Interaction-and-Proof](https://learn.z2o-k7e.world/zk-snarks/1-Polynomial-Interaction-and-Proof.html)
    - [2-Non-interactivity&Distributed-Setup](https://learn.z2o-k7e.world/zk-snarks/2-Non-interactivity&Distributed-Setup.html)
    - [3-General-Purpose-Computation](https://learn.z2o-k7e.world/zk-snarks/3-General-Purpose-Computation.html)
    - [4-Construction-Properties.md](https://learn.z2o-k7e.world/zk-snarks/4-Construction-Properties.html)
    - [5-Pinocchio-Protocol](https://learn.z2o-k7e.world/zk-snarks/5-Pinocchio-Protocol.html)
- 第三周：8 月 12 日 - 8 月 18 日：Write some Circom
    - 基础电路：
        - [ZK Shanghai 基础电路教学](https://www.youtube.com/watch?v=CTJ1JkYLiyw&ab_channel=SutuLabs)
        - 编辑器：[zkREPL](https://zkrepl.dev/)
        - [基础电路练习](https://github.com/wenjin1997/zkshanghai-workshop/blob/main/lecture2-homework.md) 这部分材料结合了Circom源码，可以多花时间来研究
    - 实用电路：
        - [ZK Shanghai 实用电路教学](https://www.youtube.com/watch?v=smJz5RdY0Nc)
        - 课程资源：[snarkjs resources (zkiap.com)](https://zkiap.com/snarkjs)、[What Is Semaphore? | Semaphore](https://docs.semaphore.pse.dev/)

本次共学资料前两周的 lecture 来自 [zk-learning](https://zk-learning.org/)，博客来自 [《探索零知识证明系列》](https://learn.z2o-k7e.world/zkp-intro/toc.html)和[《从零开始学习 zk-SNARK》](https://learn.z2o-k7e.world/zk-snarks/toc.html)，第三周的 Circom 部分来自 [0xparc](https://zkiap.com/)，视频讲解为 [ZK Shanghai](https://zkshanghai.xyz/) 的中文版本。郭宇老师还推荐了这篇文章[《Survey-SNARKs》](https://www.di.ens.fr/~nitulesc/files/Survey-SNARKs.pdf)，学有余力者可以依此找到更多的扩展内容。

### **最后，非常感谢安比实验室郭宇老师对于本次共学资料选择的指导！**

---

# {Punkcan}
1. 自我介绍
	1. 现在是个普通上班族，编程，数据库，服务器，杂七杂八的都会一点点。
2. 你认为你会完成本次残酷学习吗？
	1. 这个较难，我降低一下预期55.335%
3. 目前阶段对于 ZK 的了解？
	1. 还在理解公式中

## Notes

<!-- Content_START -->

### 2024.07.29

举例示范：

- 学习主题：ZK入门影片
- 学习内容小结：
	- 说法一：对一个陈述的证明，但是你不用阐述原因或是陈述的内容
		- 不展示陈述，但可以展示陈述的一部分所转换出来的证据
		- 直到对方被说服
		- 从这个角度来看，验证者如何承认自己被说服，而且这个承认的风险要极低等于零，便可以完成ZKP
	- 说法二：例如有一个保险箱，我知道密码，但我不能跟你讲密码，于是我取出一个保险箱里面存在的东西，这样就可以证明我知道密码
	- 说法三：例如我知道地图原本的颜色，而且他们之间相邻不会有相同颜色
		- 你随机抽取两个相邻地图，打开确认不是一样颜色
		- 然后我把所有颜色替换了，例如黄色改蓝色，蓝色改绿色，绿色改红色，红色改黄色
		- 你再挑选两张，发现还是不同颜色
		- 当我们重复1000次之后，你就可以确定，我真的知道地图原本的颜色了
	- 说法四：我正在浏览网站，浏览器不需要知道谁浏览什么网站，但却可以知道该网站被浏览的频率
		- 其中提到一点，随机性是不可预测，但这种不可预测正好可以用来掩盖真实的信息
		- ZK有个特性，就是种类非常的多
	- 为什么用数学表达？因为用数学表达反而是简化了ZK的概念，让ZK更容易被应用
	- 但ZK有点像是一直持续探索的领域，因为现在要不是披露都信息太多，就是要验证的次数太多，因此披露信息跟验证次数的平衡度也是一个抉择点
	- 在编程的领域算是ZKP发展的一个转捩点，过去ZKP大多在数学领域发展

	

### 2024.07.30

- 学习主题：[零知识证明：一场”无知“的游戏](https://www.xiaoyuzhoufm.com/episode/6672a76bb6a8412729e0b103)
- 学习内容小结：
	- 技术的创新并不一定能落实在特定产品上，但随着时间，因为特定例如算力或是区块链等突破，就会出现转机
	- 所以ZK是需要高算力？
	- 前两个课程大多是在讲历史跟概念
	- 区块链上几个主要的ZK设计（AI回答的，努力理解中）
		- ### SNARKs
			- **比喻**：想象你有一个非常复杂的迷宫，你知道怎么走出去。你想告诉你的朋友你确实知道路径，但不想让他们知道具体的每一步。SNARKs 就像是你给朋友一个非常简短的说明，让他们确信你知道出口，而不需要他们自己走迷宫。

			- **原理**：SNARKs 通过生成一个简短的证明（就像迷宫的说明），让验证者可以快速验证你确实知道路径（解决方案），而不用自己走完整个迷宫。

		- ### STARKs

			- **比喻**：现在假设你有一个巨大的拼图，并且你已经拼好了。你想让朋友知道你确实完成了拼图，但不想展示整个拼图。STARKs 就像是你给朋友一张透明的纸，上面有拼图的边缘轮廓和几个关键点，让他们知道你确实完成了拼图，而不需要看到每一块拼图。
			
			- **原理**：STARKs 生成一个证明，这个证明不需要任何秘密参数，且可以处理非常大的数据量，同时还能对抗未来的量子计算机攻击。
		
		- ### Bulletproofs
		
			- **比喻**：假设你有一本秘密的日记，你想证明给朋友看你确实写了某件事，但不想让他们看整本日记。Bulletproofs 就像是你给朋友看日记中一小段被验证过的文字，证明你确实写了那件事，但他们看不到其他内容。
		
			- **原理**：Bulletproofs 生成一个短小的证明，验证者可以用这个证明验证特定的内容，而不需要看到所有的内容。它不需要秘密设置，适用于隐私保护。
		
		- ### ZK-Rollups
		
			- **比喻**：假设你有很多张卡片，每张卡片上都写了一个秘密，你想让朋友相信你知道所有这些秘密。ZK-Rollups 就像是你把所有卡片装进一个信封，然后给朋友看信封外面的一张标签，标签上写着一个简短的证明，证明你确实知道信封里的所有秘密。
			
			- **原理**：ZK-Rollups 把大量交易打包成一个批次，然后生成一个简短的证明，把这个证明放在区块链上，这样区块链只需要处理这个简短的证明，而不是每一笔交易。
		
		- ### Plonk
		
			- **比喻**：假设你有一个非常复杂的谜题，你想证明你知道答案，但不想展示整个解答过程。Plonk 就像是你给朋友一个简短的解答步骤，让他们确信你确实解开了谜题，而不需要看到整个解答过程。
			
			- **原理**：Plonk 是一种更通用的零知识证明，它生成一个简短的证明，让验证者可以验证你确实知道答案，而不需要看到所有的解答步骤。
	- **SNARKs**：简短证明，快速验证，适合复杂问题。
	- **STARKs**：高效处理大数据，无需秘密设置，对抗量子计算。
	- **Bulletproofs**：短小证明，隐私保护，无需秘密设置。
	- **ZK-Rollups**：批量处理交易，提高区块链扩展性。
	- **Plonk**：通用零知识证明，简短解答步骤。
- 问题：
	- 到底是如何证明的，我一个都看不懂，范围懂，概念懂，但是到底如何证明？例如ZK-Rollups，信封外面的一张标签是如何产生的，这个标签的证明又是什么？又如何验证证明是正确的？
### 2024.07.31

- 学习主题：深入了解一下 SNARKs
- 学习内容小结：
	- SNARKs 的解释中，这个「你给朋友一个非常简短的说明」会是什么样的说明？如何产生？为什么朋友能够相信这个说明？
		- 假设你有一个非常复杂的迷宫，你知道怎么走到出口。你想让你的朋友相信你确实知道怎么走出去，但不想让他们知道具体的每一步。
		- 迷宫的每个分岔路口和每条通道都可以转换成一个数学方程。
		- - 你需要证明你从入口走到了出口。你把所有的步骤（每个方程）进行计算，得到最终的解决方案。这个过程使用了一种叫做「多项式承诺」的数学工具，确保你的步骤是正确的。
		- 然后，你通过一个叫做「电路」的工具，把所有这些方程连接起来。这就像把迷宫的每条路都串起来，形成一个完整的路径。
		- 于是只要这个些方程是对的，就代表你是可以走出去的
		- 但是你又不能让人看到这些方程
		- 所以这个方程的结果会加密过，同时产生密文跟钥匙
		- 所以验证的人拿着钥匙，可以检查密文是不是真的，如果是真的，就可以认定你是能够通过迷宫的
		- 多项式承诺（Polynomial Commitment）用于证明一个多项式在给定点上的值和多项式的属性，而不需要显式地公开多项式的所有系数。
		- 提交者（Prover）能够生成一个承诺，该承诺表示某个多项式，但不公开多项式的具体形式，也不可变
		-  假设你有一个秘密的数学公式（多项式），比如  $$ P(x)=3x2+2x+1 $$
		- 你把这个公式“锁”起来，生成一个承诺 CCC。这个承诺就像是你把公式放进了一个加密保险箱中，并把保险箱的锁给别人看。
		- - 有人问你这个公式在某个特定数字 x0x_0x0​ 下的值是多少。比如，问你当 x=2x = 2x=2 时，公式的值是多少。
		- 你计算出这个值 $$ P(2) = 3 \times 2^2 + 2 \times 2 + 1 = 17 $$
		- 然后，你生成一个证明 π，证明你计算的这个值是正确的。
		- 问题来了，这个证明是如何产生？而且我产生的证明，为什么别人要相信？
		- 首先，验证的人必须要确定你的多项式不会变更
		- 你计算$$ π= \frac{P(x) - P(x_0)}{x - x_0} $$，这表示多项式 $$ P(x)$$ 去掉点 $$x0$$​ 后的商。
		- 证明 π\ 实际上是一个新的多项式。
		- 但这个验证流程是公开的
		- 验证者只要证明以下是正确的 $$ e(π,gx−x0​)=e(C,g)/e(gP(x0​),g) $$
		- 就能确定你的证明是真的
		- 这个证明的概念就是，当匹配的次数很多，但答案一致时，就可以认为你是对的
		- e(...,...)是一种双线性配对
		- g是公共生成元，你可以视为类似公钥的一种公开固定值
		- 算了，我们跳过公式，总之这个验证方式是公开的，几遍验证的人不知道你是不是对的
		- 但验证者知道，如果你的多项式是正确的，你的证明就会符合预期（另一个算式会是一致的）
		- 所以他只要用另一个算式来验证你的证明，只要一次就可以完成验证


### 2024.08.01

- 学习主题：模拟器.....
- 学习内容小结：
	- 为什么实体世界的Alice跟理想世界中的Zlice能够交互过程，让人无法区别？
		- 不是完全无法区别，是几乎无法区别
		- 这个Zlice模拟类似一种数学公式，就是能得到同样地答案或是判断，但是公式内容跟Alice却完全不一样，这样验证者就可以确定证明在Zlice得到的回应等于跟Alice交互得到的回应
		- 例如
			- #### 现实世界

				1. **初始承诺**：Alice发送一个数字y = x^2作为初始承诺。
				2. **随机挑战**：验证者发送一个随机数c。
				3. **生成响应**：Alice计算r = x + c，并发送给验证者。
				4. **验证**：验证者检查r^2是否等于y + 2xc + c^2。

			- #### 理想世界

				1. **初始承诺**：Zlice发送一个随机数字z作为初始承诺。
				2. **随机挑战**：验证者发送一个随机数c。
				3. **生成响应**：Zlice使用数学算法生成一个伪随机响应s。
				4. **验证**：验证者检查s是否满足与真实交互相同的验证条件。
		- 但这一切需要形成NP证明，也就是产出证明可能很麻烦，但是验证却很简单
			- 例如数独谜题。解开数独可能需要很长时间，但一旦你完成了，你的朋友可以在短时间内检查你的解答是否正确
			- 例如你要从城市里找到多点的路径是不是最短路径很麻烦，但是验证起来却很简单
			- **NP 问题**：解答可以在多项式时间内验证，但不一定能在多项式时间内找到。
			- **NP 证明**：用于验证 NP 问题解答的正确性，验证过程在多项式时间内完成。


### 2024.08.02

- 学习主题：发现自己欠缺很多基本知识，重新巩固基本知识
- 学习内容小结：
	- 先了解ZK所需要具备的基础知识有哪些，盘点自己对这些基础的认知程度
		- **离散数学**：逻辑，集合论，图论
		- 代数和数论：模运算，群（有限域上的运算，生成元与离散对数）、环和域，欧拉函数
		- 了解 P 和 NP 问题
		- 离散对数、因子分解
		- 理解概率论和统计学
	- GPT说其中最基础是模运算
		- 也就是很多范例常常讲的时钟概念
		- $$ a \equiv b \pmod{n} $$
		- 这意思就是当n去除以a或b时，得到的余数是一样
		- 例如你有五个朋友，当你有7颗苹果或是12颗苹果分给这五个朋友时，都会剩下两个
		- $$  12 \equiv 7 \pmod{5} $$
		- **在表达式中**：
		  - $$ n \mid (a-b) $$ 
		  - 这个部分表示 n 可以整除 a - b 。
		  -  a - b  是 n 的倍数，说明 a 和 b 的余数相同。
	- 例如凯撒密码就能用模运算来计算
	- 模运算适合用在有循环特质的分母中，例如星期，时钟，字母等等
	- 更深入的应用是RSA 加密算法，Diffie-Hellman 密钥交换，椭圆曲线密码学（ECC）
	- 上面讲的是模运算的基础公式，但其中a跟b跟n本身又可以是一个公式或是某数的多次方
	- 例如

		- **加密和解密**：
		  - **加密**：给定明文  m ，密文  c  是：
    $$
    c \equiv m^e \pmod{n}
    $$
		  - **解密**：给定密文  c ，明文  m  是：
    $$
    m \equiv c^d \pmod{n}
    $$
- 疑问：
	- 学ZK难道就得要先学会一堆数学吗？
		- 看起来是的....不会数学，很快就什么都看不懂了
	- 第二基础是群论，明天搞懂

### 2024.08.03

- 学习主题：初入群论
- 学习内容小结：
  - 群是什么？
    - **想象一个玩具箱**
    - **玩具箱（群）**：想象有一个玩具箱，里面装着不同的玩具，这些玩具就是群中的“元素”。
    - **玩法（运算）**：每次从箱子里拿出两个玩具，按照一定的规则来玩这个玩具，比如说把两个玩具组合在一起。
  - 也就是群运算是对群里元素的操作规则
  - 群有四个基本规则
    - **闭合性**：
      - 不管你怎么玩玩具，结果还是在这个玩具箱里。
      - **例子**：两个乐高积木拼在一起，还是乐高积木，依然在你的玩具箱里。
      - **定义**：对于群中的任何两个元素 a 和 b，运算 (a + b) 的结果仍然在群内。
      - **算式例子**：在整数集合 Z 中，a = 3 和 b = 5，那么  a + b = 8  也在 Z 中。
      - 3 + 5 = 8
	
    - **结合律**：
      - 你可以先把前两个玩具拼好，再和第三个玩具拼在一起，或者先拼后两个玩具，结果是一样的。
      - **例子**：你可以先拼一个房子，再加上一个车库，或者先拼车库，再拼房子，最后都是一个大建筑。
      - **定义**：运算的顺序对结果没有影响，(a + b) + c = a + (b + c)。
      - **算式例子**：对于 a = 2、b = 3、c = 4，不管你先加哪个结果都一样。
      - (2 + 3) + 4 = 9 和 2 + (3 + 4) = 9

    - **单位元**：
      - 玩具箱里有一个特别的玩具，任何玩具跟它一起玩都不改变其他玩具的样子。
      - **例子**：一个透明的底板，任何乐高积木放在上面都不会改变积木本身。
      - **定义**：存在一个单位元 e，使得 a + e = a 对任何 a 成立。
      - **算式例子**：在整数加法中，单位元是 0，因为对于任何整数 a，都有：
      - a + 0 = a，比如，5 + 0 = 5。
    - **逆元**：
      - 每个玩具都有一个“相反”的玩具，它们可以一起变回玩具箱的原样。
      - **例子**：一个火车和它的拆解工具，你可以把火车拆掉，重新变成零件。
      - **定义**：对于每个元素 a，存在一个逆元 -a，使得 a + (-a) = 0。
      - **算式例子**：对于整数 a = 7，它的逆元是 -7，因为：
      - 7 + (-7) = 0
  - **时钟**：时钟上的时间就是一个群。比如说，晚上 10 点再加 5 小时就是凌晨 3 点。无论你怎么加时间，结果总是回到时钟上的某个时间点。
  - **扑克牌游戏**：玩纸牌游戏的时候，不管你怎么洗牌、发牌，牌的总数还是不变的。


### 2024.08.04

- 学习主题：理解群论跟模运算的关联跟差异
- 学习内容小结：
  - 模运算属于群论的一部分
  - 离散对数问题也是基础数学知识
  - 

### 2024.08.05

- 学习主题：
- 学习内容小结：

### 2024.08.06

- 学习主题：
- 学习内容小结：

### 2024.08.07

- 学习主题：
- 学习内容小结：

### 2024.08.08

- 学习主题：
- 学习内容小结：

### 2024.08.09

- 学习主题：
- 学习内容小结：

### 2024.08.10

- 学习主题：
- 学习内容小结：

### 2024.08.11

- 学习主题：
- 学习内容小结：

### 2024.08.12

- 学习主题：
- 学习内容小结：

<!-- Content_END -->

离散对数问题是密码学中的一个重要概念，它是许多加密算法和安全协议的基础。我们可以用简单的语言来解释什么是离散对数问题，以及它为什么在密码学中如此重要。

### 什么是离散对数问题？

**基本概念**：

- **乘法和对数**：在正常的算术中，如果你知道两个数相乘得到的结果，例如 \(2^3 = 8\)，那么找到 2 需要多少次乘以自己得到 8 是很容易的，这个数就是 \(3\)，因为 \(2^3 = 8\)。

- **离散对数**：在一个有限的数学系统中，比如模运算系统，计算乘法的结果很简单，但反过来找出“指数”却很难。例如，如果你知道 \(3^x \equiv 2 \pmod{7}\)，求 \(x\) 是困难的。这里 \(x\) 是离散对数。

**离散对数问题**：

- 给定一个基数 \( g \) 和一个结果 \( y \)，找到一个指数 \( x \)，使得：
  \[
  g^x \equiv y \pmod{p}
  \]

### 离散对数问题的困难性

- **计算困难**：对于大数，离散对数问题非常难解。虽然很容易计算 \( g^x \mod p \)，但是从 \( y = g^x \mod p \) 推回去找 \( x \) 很难。

- **安全性基础**：这种计算上的不对称性是许多加密协议安全性的基础。因为计算 \( g^x \mod p \) 是简单的，而找到 \( x \) 是困难的，提供了安全性。

### 离散对数问题的应用

1. **Diffie-Hellman 密钥交换**：
   - 双方通过交换公钥，使用离散对数问题生成共享的加密密钥。
   - 安全性依赖于难以从公开信息中计算出私钥。

2. **ElGamal 加密**：
   - 使用离散对数问题进行加密和解密。
   - 消息被变换为更难解的形式，以保护信息安全。

3. **数字签名算法（DSA）**：
   - 使用离散对数问题生成和验证数字签名。
   - 确保签名的真实性和完整性。

### 形象化解释

- **秘密的锁**：想象一个特别的锁，你可以轻松地锁上（乘法），但打开锁（找指数）非常难。只有持有正确钥匙的人才能解开这个锁。

- **单向街道**：计算 \( g^x \mod p \) 就像走单向街道很容易，但逆向行驶（找回 \( x \)）却几乎不可能。

### 为什么离散对数问题重要？

- **基础安全性**：许多现代密码学协议依赖于离散对数问题的计算困难性来保证安全。
- **实用性**：离散对数问题提供了构建安全协议的理论基础，使得数据传输可以在不安全的信道上进行而不被拦截。

通过这些解释，希望你对离散对数问题有了更清晰的理解。这是一个非常关键的概念，涉及到许多密码学协议和应用的安全性。如果你有其他问题或需要更详细的解释，请随时告诉我！